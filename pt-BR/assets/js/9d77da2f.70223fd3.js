"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1118],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>b});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=n,b=m["".concat(s,".").concat(c)]||m[c]||d[c]||o;return a?r.createElement(b,l(l({ref:t},u),{},{components:a})):r.createElement(b,l({ref:t},u))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:n,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},4068:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const o={slug:"github-actions-data-flow",title:"GitHub Actions: Fluxo e Persist\xeancia de Dados em Workflows",authors:"manu",tags:["github actions","ci/cd","pipeline","env","outputs","artefatos","cache"]},l=void 0,i={permalink:"/blog/pt-BR/tech/github-actions-data-flow",source:"@site/i18n/pt-BR/docusaurus-plugin-content-blog-tech/2023-10-31-github-actions-data-flow/index.md",title:"GitHub Actions: Fluxo e Persist\xeancia de Dados em Workflows",description:"Quando se trata de Github Actions, os dados n\xe3o s\xe3o persistentes por natureza, nem ficam dispon\xedveis para todo o pipeline. Cada etapa (step) tem seu pr\xf3prio processo, cada trabalho (job) tem seu pr\xf3prio executor (runner). Por padr\xe3o, quaisquer dados que surjam em um trabalho terminam com ele.",date:"2023-10-31T00:00:00.000Z",formattedDate:"31 de outubro de 2023",tags:[{label:"github actions",permalink:"/blog/pt-BR/tech/tags/github-actions"},{label:"ci/cd",permalink:"/blog/pt-BR/tech/tags/ci-cd"},{label:"pipeline",permalink:"/blog/pt-BR/tech/tags/pipeline"},{label:"env",permalink:"/blog/pt-BR/tech/tags/env"},{label:"outputs",permalink:"/blog/pt-BR/tech/tags/outputs"},{label:"artefatos",permalink:"/blog/pt-BR/tech/tags/artefatos"},{label:"cache",permalink:"/blog/pt-BR/tech/tags/cache"}],readingTime:11.565,hasTruncateMarker:!0,authors:[{name:"Manu Magalh\xe3es",title:"Engenheira de DevSecOps",url:"https://github.com/magmanu",imageURL:"https://github.com/magmanu.png",key:"manu"}],frontMatter:{slug:"github-actions-data-flow",title:"GitHub Actions: Fluxo e Persist\xeancia de Dados em Workflows",authors:"manu",tags:["github actions","ci/cd","pipeline","env","outputs","artefatos","cache"]},nextItem:{title:"Como Gerar JSON Din\xe2mico no Terraform",permalink:"/blog/pt-BR/tech/dynamic-json-in-terraform"}},s={authorsImageUrls:[void 0]},p=[],u={toc:p},m="wrapper";function d(e){let{components:t,...a}=e;return(0,n.kt)(m,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Quando se trata de Github Actions, os dados n\xe3o s\xe3o persistentes por natureza, nem ficam dispon\xedveis para todo o pipeline. Cada etapa (step) tem seu pr\xf3prio processo, cada trabalho (job) tem seu pr\xf3prio executor (runner). Por padr\xe3o, quaisquer dados que surjam em um trabalho terminam com ele."),(0,n.kt)("p",null,"Ent\xe3o, como podemos passar dados de um processo para outro, ou salvar dados para uma execu\xe7\xe3o futura?"),(0,n.kt)("p",null,"A resposta r\xe1pida e certeira \xe9 essa:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Estrat\xe9gia"),(0,n.kt)("th",{parentName:"tr",align:null},"Dados"),(0,n.kt)("th",{parentName:"tr",align:null},"Escopo"),(0,n.kt)("th",{parentName:"tr",align:null},"Persist\xeancia"),(0,n.kt)("th",{parentName:"tr",align:null},"Detalhes"),(0,n.kt)("th",{parentName:"tr",align:null},"Exemplo"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"env")),(0,n.kt)("td",{parentName:"tr",align:null},"Valores"),(0,n.kt)("td",{parentName:"tr",align:null},"Trabalho (interno)"),(0,n.kt)("td",{parentName:"tr",align:null},"Ef\xeamero"),(0,n.kt)("td",{parentName:"tr",align:null},"Propaga ",(0,n.kt)("em",{parentName:"td"},"dados")," ",(0,n.kt)("br",null)," entre ",(0,n.kt)("em",{parentName:"td"},"etapas")," ",(0,n.kt)("br",null)," no mesmo ",(0,n.kt)("em",{parentName:"td"},"trabalho")),(0,n.kt)("td",{parentName:"tr",align:null},"Passar um booleano para determinar se a pr\xf3xima estapa deve ser executada")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"outputs")),(0,n.kt)("td",{parentName:"tr",align:null},"Valores"),(0,n.kt)("td",{parentName:"tr",align:null},"Fluxo de trabalho (interno)"),(0,n.kt)("td",{parentName:"tr",align:null},"Ef\xeamero"),(0,n.kt)("td",{parentName:"tr",align:null},"Propaga ",(0,n.kt)("em",{parentName:"td"},"dados")," ",(0,n.kt)("br",null)," entre ",(0,n.kt)("em",{parentName:"td"},"trabalhos/etapas")," ",(0,n.kt)("br",null)," no mesmo ",(0,n.kt)("em",{parentName:"td"},"fluxo de trabalho")),(0,n.kt)("td",{parentName:"tr",align:null},"Passar um ID  para o pr\xf3ximo trabalho")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"artefatos"),(0,n.kt)("td",{parentName:"tr",align:null},"Arquivos"),(0,n.kt)("td",{parentName:"tr",align:null},"Fluxo de trabalho (interno e externo)"),(0,n.kt)("td",{parentName:"tr",align:null},"Persistente"),(0,n.kt)("td",{parentName:"tr",align:null},"Propaga ",(0,n.kt)("em",{parentName:"td"},"arquivos")," ",(0,n.kt)("br",null)," entre ",(0,n.kt)("em",{parentName:"td"},"trabalhos/fluxos de trabalho")),(0,n.kt)("td",{parentName:"tr",align:null},"Passar o build de um projeto para diferentes trabalhos de teste executados em paralelo ",(0,n.kt)("br",null),(0,n.kt)("br",null)," ",(0,n.kt)("em",{parentName:"td"},"Prefer\xeancia a dados que mudam frequentemente. Os arquivos ficam dispon\xedveis para download ap\xf3s o t\xe9rmino do fluxo de trabalho."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"cache"),(0,n.kt)("td",{parentName:"tr",align:null},"Arquivos"),(0,n.kt)("td",{parentName:"tr",align:null},"Fluxo de trabalho (interno e externo)"),(0,n.kt)("td",{parentName:"tr",align:null},"Persistente"),(0,n.kt)("td",{parentName:"tr",align:null},"Propaga ",(0,n.kt)("em",{parentName:"td"},"arquivos")," ",(0,n.kt)("br",null)," dentro e entre ",(0,n.kt)("em",{parentName:"td"},"fluxos de trabalho")," ",(0,n.kt)("br",null)," no mesmo ",(0,n.kt)("em",{parentName:"td"},"reposit\xf3rio")),(0,n.kt)("td",{parentName:"tr",align:null},"Armazenar pacotes npm em cache para uso em diferentes execu\xe7\xf5es de fluxo de trabalho. ",(0,n.kt)("br",null),(0,n.kt)("br",null)," ",(0,n.kt)("em",{parentName:"td"},"Destinado a arquivos que n\xe3o mudam muito."))))),(0,n.kt)("p",null,"Para uma resposta mais completa, continue lendo.\nTodos os exemplos de fluxo de trabalho neste artigo \u200b\u200b",(0,n.kt)("a",{parentName:"p",href:"https://github.com/magmanu/blog/tree/main/demos/github-actions-data-flow"},"est\xe3o disponiveis em formato de arquivo aqui"),", junto com uma c\xf3pia dos respectivos logs editados (em ingl\xeas)."))}d.isMDXComponent=!0}}]);