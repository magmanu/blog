"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5659],{9130:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>n,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var s=a(4848),r=a(8453);const o={slug:"github-actions-data-flow",title:"GitHub Actions: Fluxo e Persist\xeancia de Dados em Workflows",authors:"manu",tags:["github actions","ci/cd","pipeline","env","outputs","artefatos","cache"]},n=void 0,i={permalink:"/blog/pt-BR/tech/github-actions-data-flow",source:"@site/i18n/pt-BR/docusaurus-plugin-content-blog-tech/2023-10-31-github-actions-data-flow/index.md",title:"GitHub Actions: Fluxo e Persist\xeancia de Dados em Workflows",description:"Quando se trata de Github Actions, os dados n\xe3o s\xe3o persistentes por natureza, nem ficam dispon\xedveis para todo o pipeline. Cada etapa (step) tem seu pr\xf3prio processo, cada trabalho (job) tem seu pr\xf3prio executor (runner). Por padr\xe3o, quaisquer dados que surjam em um trabalho terminam com ele.",date:"2023-10-31T00:00:00.000Z",tags:[{label:"github actions",permalink:"/blog/pt-BR/tech/tags/github-actions"},{label:"ci/cd",permalink:"/blog/pt-BR/tech/tags/ci-cd"},{label:"pipeline",permalink:"/blog/pt-BR/tech/tags/pipeline"},{label:"env",permalink:"/blog/pt-BR/tech/tags/env"},{label:"outputs",permalink:"/blog/pt-BR/tech/tags/outputs"},{label:"artefatos",permalink:"/blog/pt-BR/tech/tags/artefatos"},{label:"cache",permalink:"/blog/pt-BR/tech/tags/cache"}],readingTime:11.565,hasTruncateMarker:!0,authors:[{name:"Manu Magalh\xe3es",title:"Engenheira de DevSecOps",url:"https://github.com/magmanu",imageURL:"https://github.com/magmanu.png",key:"manu"}],frontMatter:{slug:"github-actions-data-flow",title:"GitHub Actions: Fluxo e Persist\xeancia de Dados em Workflows",authors:"manu",tags:["github actions","ci/cd","pipeline","env","outputs","artefatos","cache"]},unlisted:!1,nextItem:{title:"Como Gerar JSON Din\xe2mico no Terraform",permalink:"/blog/pt-BR/tech/dynamic-json-in-terraform"}},d={authorsImageUrls:[void 0]},l=[];function c(e){const t={a:"a",code:"code",em:"em",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Quando se trata de Github Actions, os dados n\xe3o s\xe3o persistentes por natureza, nem ficam dispon\xedveis para todo o pipeline. Cada etapa (step) tem seu pr\xf3prio processo, cada trabalho (job) tem seu pr\xf3prio executor (runner). Por padr\xe3o, quaisquer dados que surjam em um trabalho terminam com ele."}),"\n",(0,s.jsx)(t.p,{children:"Ent\xe3o, como podemos passar dados de um processo para outro, ou salvar dados para uma execu\xe7\xe3o futura?"}),"\n",(0,s.jsx)(t.p,{children:"A resposta r\xe1pida e certeira \xe9 essa:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Estrat\xe9gia"}),(0,s.jsx)(t.th,{children:"Dados"}),(0,s.jsx)(t.th,{children:"Escopo"}),(0,s.jsx)(t.th,{children:"Persist\xeancia"}),(0,s.jsx)(t.th,{children:"Detalhes"}),(0,s.jsx)(t.th,{children:"Exemplo"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"env"})}),(0,s.jsx)(t.td,{children:"Valores"}),(0,s.jsx)(t.td,{children:"Trabalho (interno)"}),(0,s.jsx)(t.td,{children:"Ef\xeamero"}),(0,s.jsxs)(t.td,{children:["Propaga ",(0,s.jsx)(t.em,{children:"dados"})," ",(0,s.jsx)("br",{})," entre ",(0,s.jsx)(t.em,{children:"etapas"})," ",(0,s.jsx)("br",{})," no mesmo ",(0,s.jsx)(t.em,{children:"trabalho"})]}),(0,s.jsx)(t.td,{children:"Passar um booleano para determinar se a pr\xf3xima estapa deve ser executada"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"outputs"})}),(0,s.jsx)(t.td,{children:"Valores"}),(0,s.jsx)(t.td,{children:"Fluxo de trabalho (interno)"}),(0,s.jsx)(t.td,{children:"Ef\xeamero"}),(0,s.jsxs)(t.td,{children:["Propaga ",(0,s.jsx)(t.em,{children:"dados"})," ",(0,s.jsx)("br",{})," entre ",(0,s.jsx)(t.em,{children:"trabalhos/etapas"})," ",(0,s.jsx)("br",{})," no mesmo ",(0,s.jsx)(t.em,{children:"fluxo de trabalho"})]}),(0,s.jsx)(t.td,{children:"Passar um ID  para o pr\xf3ximo trabalho"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"artefatos"}),(0,s.jsx)(t.td,{children:"Arquivos"}),(0,s.jsx)(t.td,{children:"Fluxo de trabalho (interno e externo)"}),(0,s.jsx)(t.td,{children:"Persistente"}),(0,s.jsxs)(t.td,{children:["Propaga ",(0,s.jsx)(t.em,{children:"arquivos"})," ",(0,s.jsx)("br",{})," entre ",(0,s.jsx)(t.em,{children:"trabalhos/fluxos de trabalho"})]}),(0,s.jsxs)(t.td,{children:["Passar o build de um projeto para diferentes trabalhos de teste executados em paralelo ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{})," ",(0,s.jsx)(t.em,{children:"Prefer\xeancia a dados que mudam frequentemente. Os arquivos ficam dispon\xedveis para download ap\xf3s o t\xe9rmino do fluxo de trabalho."})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"cache"}),(0,s.jsx)(t.td,{children:"Arquivos"}),(0,s.jsx)(t.td,{children:"Fluxo de trabalho (interno e externo)"}),(0,s.jsx)(t.td,{children:"Persistente"}),(0,s.jsxs)(t.td,{children:["Propaga ",(0,s.jsx)(t.em,{children:"arquivos"})," ",(0,s.jsx)("br",{})," dentro e entre ",(0,s.jsx)(t.em,{children:"fluxos de trabalho"})," ",(0,s.jsx)("br",{})," no mesmo ",(0,s.jsx)(t.em,{children:"reposit\xf3rio"})]}),(0,s.jsxs)(t.td,{children:["Armazenar pacotes npm em cache para uso em diferentes execu\xe7\xf5es de fluxo de trabalho. ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{})," ",(0,s.jsx)(t.em,{children:"Destinado a arquivos que n\xe3o mudam muito."})]})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:["Para uma resposta mais completa, continue lendo.\nTodos os exemplos de fluxo de trabalho neste artigo \u200b\u200b",(0,s.jsx)(t.a,{href:"https://github.com/magmanu/blog/tree/main/demos/github-actions-data-flow",children:"est\xe3o disponiveis em formato de arquivo aqui"}),", junto com uma c\xf3pia dos respectivos logs editados (em ingl\xeas)."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>n,x:()=>i});var s=a(6540);const r={},o=s.createContext(r);function n(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);