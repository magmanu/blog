<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-tech" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">How to Migrate CodeCommit to GitHub â€” and Keep your Amplify Pipeline | Manu MagalhÃ£es</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://magmanu.github.io/blog/social_card_bw_dark.png"><meta data-rh="true" name="twitter:image" content="https://magmanu.github.io/blog/social_card_bw_dark.png"><meta data-rh="true" property="og:url" content="https://magmanu.github.io/blog/tech/migrate-codecommit-to-github"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="How to Migrate CodeCommit to GitHub â€” and Keep your Amplify Pipeline | Manu MagalhÃ£es"><meta data-rh="true" name="description" content="This tutorial includes guidance for three different scenarios in your GitHub administration:"><meta data-rh="true" property="og:description" content="This tutorial includes guidance for three different scenarios in your GitHub administration:"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-10-13T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/magmanu"><meta data-rh="true" property="article:tag" content="infra,github,amplify,aws,ci/cd,tutorial"><link data-rh="true" rel="icon" href="/blog/img/logo_accent_light.png"><link data-rh="true" rel="canonical" href="https://magmanu.github.io/blog/tech/migrate-codecommit-to-github"><link data-rh="true" rel="alternate" href="https://magmanu.github.io/blog/tech/migrate-codecommit-to-github" hreflang="en"><link data-rh="true" rel="alternate" href="https://magmanu.github.io/blog/pt-BR/tech/migrate-codecommit-to-github" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://magmanu.github.io/blog/tech/migrate-codecommit-to-github" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/blog/rss.xml" title="Manu MagalhÃ£es RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/blog/atom.xml" title="Manu MagalhÃ£es Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/blog/personal/rss.xml" title="Blog by Manu MagalhÃ£es RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/personal/atom.xml" title="Blog by Manu MagalhÃ£es Atom Feed">
<link rel="alternate" type="application/json" href="/blog/personal/feed.json" title="Blog by Manu MagalhÃ£es JSON Feed">
<link rel="alternate" type="application/rss+xml" href="/blog/tech/rss.xml" title="Code, Cloud, App Security and more RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/tech/atom.xml" title="Code, Cloud, App Security and more Atom Feed">
<link rel="alternate" type="application/json" href="/blog/tech/feed.json" title="Code, Cloud, App Security and more JSON Feed"><link rel="stylesheet" href="/blog/assets/css/styles.d7a8d8e1.css">
<link rel="preload" href="/blog/assets/js/runtime~main.142a1e44.js" as="script">
<link rel="preload" href="/blog/assets/js/main.e1abacd9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog/"><div class="navbar__logo"><img src="/blog/img/logo_accent_light.png" alt="magmanu" class="themedImage_ToTc themedImage--light_HNdA"><img src="/blog/img/logo_accent_light.png" alt="magmanu" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Manu MagalhÃ£es</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/tech">Tech</a><a class="navbar__item navbar__link" href="/blog/personal">Personal</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/blog/tech/migrate-codecommit-to-github" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/blog/pt-BR/tech/migrate-codecommit-to-github" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt-BR">PortuguÃªs (Brasil)</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Most Recent Articles</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tech/dynamic-json-in-terraform">Generating Dynamic JSON in Terraform</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tech/terraform-ternary-error">Bypassing Terraform error: â€œThe true and false result expressions must have consistent typesâ€</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/tech/migrate-codecommit-to-github">How to Migrate CodeCommit to GitHub â€” and Keep your Amplify Pipeline</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="This tutorial includes guidance for three different scenarios in your GitHub administration:"><header><h1 class="title_f1Hy" itemprop="headline">How to Migrate CodeCommit to GitHub â€” and Keep your Amplify Pipeline</h1><div class="container_mt6G margin-vert--md"><time datetime="2021-10-13T00:00:00.000Z" itemprop="datePublished">October 13, 2021</time> Â· <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/magmanu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/magmanu.png" alt="Manu MagalhÃ£es" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/magmanu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Manu MagalhÃ£es</span></a></div><small class="avatar__subtitle" itemprop="description">DevSecOps Engineer</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>This tutorial includes guidance for three different scenarios in your GitHub administration:</p><ol><li>when your repo is in your personal account;</li><li>when your app is under a GitHub Org and admins grant you the permissions you need; and</li><li>when your repo is under a GitHub Org and admins do NOT grant you the permissions you need.</li></ol><p><em>Pre-requisites: Relevant access and permissions for CodeCommit and Amplify. You also need a working GitHub account.</em></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="migrating-your-repo">Migrating Your Repo<a href="#migrating-your-repo" class="hash-link" aria-label="Direct link to Migrating Your Repo" title="Direct link to Migrating Your Repo">â€‹</a></h2><ol><li>Open your CLI and cd into your existing CodeCommit local folder.</li><li>Run <code>git remote get-url origin</code> to get the external clone URL for the project you plan to migrate to GitHub.</li><li>Create a temporary folder by running <code>mkdir ../temp-migration</code> and open it in the CLI by running <code>cd ../temp-migration</code>.</li><li>Run <code>git clone --bare</code> followed by the clone URL you got in step 2. An example would be <code>git clone --bare &lt;https://git-codecommit.eu-west-1.amazonaws.com/v1/repos/name-of-your-codecommit-directory&gt;</code>.</li></ol><br><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Educational note</div><div class="admonitionContent_S0QG"><p>The flag <code>--bare</code> is a way to fully clone your repo while cutting all its ties with the remote (in CodeCommit, in this case). You still get all your branches, tags and everything, but the cloned repo is completely independent from the remote.</p></div></div><br><ol start="5"><li>Create a new GitHub repo. To prevent issues, donâ€™t add any README, .gitignore or anything. After you click â€œCreate repoâ€, the only thing you should do is to copy the external clone URL as shown below. Donâ€™t run any git init, fist commit or anything. Just copy the relevant path as shown below.</li></ol><br><p><img loading="lazy" alt="Git clone SSH" src="/blog/assets/images/clone_ssh-5be730cf4d2ec7e3548855fc55af9e16.webp" width="1400" height="508" class="img_ev3q"></p><br><ol start="6"><li>Back to your terminal, cd into your bare git repo by running <code>cd name-of-your-codecommit-directory.git</code> and run <code>git push --mirror</code> followed by the clone path you got in step 5. In my case, it will be <code>git push --mirror &lt;https://github.com/my-username/my-project.git&gt;</code>.</li></ol><p>Thatâ€™s it, migration is complete now.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="confirm">Confirm<a href="#confirm" class="hash-link" aria-label="Direct link to Confirm" title="Direct link to Confirm">â€‹</a></h3><p>To confirm all went well, go back to GitHub and refresh the page. Youâ€™ll see that your repo will be there as expected, including all your commit history, branches and everything. To start working on your migrated GitHub repo, simply clone it and get on with business as usual :)</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clean-up">Clean up<a href="#clean-up" class="hash-link" aria-label="Direct link to Clean up" title="Direct link to Clean up">â€‹</a></h3><p>If you followed the instructions strictly, now itâ€™s time to delete your temporary folder. Go back to your terminal and run <code>cd ../.. and rm -rf temp-migration</code>. If you used your OSâ€™s tmp folder instead, skip this step.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rewiring-your-amplify-pipeline">Rewiring your Amplify Pipeline<a href="#rewiring-your-amplify-pipeline" class="hash-link" aria-label="Direct link to Rewiring your Amplify Pipeline" title="Direct link to Rewiring your Amplify Pipeline">â€‹</a></h2><p>Now that you migrated the code to GitHub, how do you leverage your already existing Amplify pipeline that was linked to the CodeCommit repo?</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="run--the-update-app-command">Run  the <code>update-app</code> command<a href="#run--the-update-app-command" class="hash-link" aria-label="Direct link to run--the-update-app-command" title="Direct link to run--the-update-app-command">â€‹</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AWS_PROFILE=YOUR_PROFILE AWS_DEFAULT_REGION=YOUR_REGION aws amplify update-app --app-id AMPLIFY_APP_ID --repository REPOSITORY_URL --access-token ACCESS_TOKEN</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>AMPLIFY_APP_ID</code>: To find your app id, go to the Amplify console. Under App settings, click General and look for the App ARN. The app id should be the alphanumeric string at the very end of the ARN. You can find it in your Amplify console: App settings &gt; General. The id is shown as â€œREDACTEDâ€ in the screenshot below:</p><br><p><img loading="lazy" alt="Amplify App Id" src="/blog/assets/images/amplify_data-ed02eb0516b95e7d3782a0b619920733.webp" width="1400" height="459" class="img_ev3q"></p><br><p><code>REPOSITORY_URL</code>: Itâ€™s the one you got in the step 5 of the migration.
<code>ACCESS_TOKEN</code>: The access token is s a Personal Access Token that you can generate in GitHub. Beware that this token has to be generated by the GitHub repo owner.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="re-authenticate-your-amplify-app">Re-authenticate your Amplify app<a href="#re-authenticate-your-amplify-app" class="hash-link" aria-label="Direct link to Re-authenticate your Amplify app" title="Direct link to Re-authenticate your Amplify app">â€‹</a></h3><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Real life XP</div><div class="admonitionContent_S0QG"><p>Companies can be very strict about the GitHub Apps they approve. If you get blocked because your admins, for whatever reason, won&#x27;t approve the Amplify App, jump to the section <a href="#the-webhook-approach">&quot;The Webhook Approach&quot;</a>.</p></div></div><p>Now you can reconnect your app. In the same page you got your ARN, if you look above the ARN youâ€™ll find a button â€œReconnect repositoryâ€. When you click it, youâ€™ll be directed to the Oath flow in GitHub.</p><ul><li><strong>If the migrated repo is NOT under an Organization</strong>, you can click the â€œAuthorize aws-amplify-consoleâ€ button. Youâ€™ll be redirected to the Amplify console, and once there, click again the reconnect repository, select the relevant repo and off you go! Enjoy!</li><li><strong>If the migrated repo is under your Organization</strong>, you can request the OAuth permission to the Amplify App by clicking a button. It will show a request pending message until your admin approves it (youâ€™ll receive an email when they do).</li></ul><br><p><img loading="lazy" alt="Authorize Amplify Github App" src="/blog/assets/images/authorize_amplify_app-0c09d0e0746dd8ee0e5bf2f70539c74a.webp" width="1186" height="1206" class="img_ev3q"></p><br><p>Once Oauth is granted, go back to your Amplify app and click Reconnect repository again. You&#x27;ll be shown repos both from your org and from your own account to choose from. Select the relevant one and have fun with your new migrated repos!</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-webhook-approach">The Webhook Approach<a href="#the-webhook-approach" class="hash-link" aria-label="Direct link to The Webhook Approach" title="Direct link to The Webhook Approach">â€‹</a></h3><p>An alternative to using the Amplify GitHub App is to create an incoming webhook in Amplify instead.
To do that, under App settings, select Build settings nd click Create Webhook (both shown in orange below).</p><br><p><img loading="lazy" alt="Amplify Build Settings" src="/blog/assets/images/amplify_build_settings-937fb3f3220996941f487bd5ed440afe.webp" width="1181" height="295" class="img_ev3q"></p><br><p>In the pop-up, type in a name and select a branch to build. Your new webhook will show in the Amplify interface. Copy its URL, weâ€™ll use it in GitHub.</p><br><p><img loading="lazy" alt="Amplify Incming Webhooks" src="/blog/assets/images/amplify_incoming_webhooks-e4c6bd369f275c88df521b33d531b072.webp" width="769" height="234" class="img_ev3q"></p><br><p>Now go back to your migrated GitHub repo, select Settings &gt; Webhooks and click the button Add webhook.</p><br><p><img loading="lazy" alt="Adding GitHub Webhooks" src="/blog/assets/images/github_webhooks-143154a73be16465c0004e7d5de274d3.webp" width="1264" height="868" class="img_ev3q"></p><p>Workaround completed.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="caveats-of-the-webhook-approach">Caveats of the Webhook Approach<a href="#caveats-of-the-webhook-approach" class="hash-link" aria-label="Direct link to Caveats of the Webhook Approach" title="Direct link to Caveats of the Webhook Approach">â€‹</a></h3><p>If you go down the webhook path, be mindful that:</p><ul><li>If you need to connect multiple branches to Amplify, you need to create a webhook in Amplify to each of them, and add each to GitHub, one by one. If you feel tempted to automate it, have a chat to your GitHub Org admin to clear up how the OAuth permission for the Amplify App can be done. Automation in this end is an overkill and waste of time.</li><li>Any git push will trigger the webhook in every single frontend deployment in your Amplify. In other words, if you have the branches â€œmainâ€, â€œreleaseâ€, â€œdevâ€, â€œfeature/aâ€, and â€œfeature/bâ€, every time your colleague pushes his changes in â€œfeature/bâ€ to GitHub, the pipeline will be triggered for all the five branches.</li></ul><p>Hope this was helpful, see you!</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tech/tags/infra">infra</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tech/tags/github">github</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tech/tags/amplify">amplify</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tech/tags/aws">aws</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tech/tags/ci-cd">ci/cd</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tech/tags/tutorial">tutorial</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/tech/terraform-ternary-error"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Bypassing Terraform error: â€œThe true and false result expressions must have consistent typesâ€</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#migrating-your-repo" class="table-of-contents__link toc-highlight">Migrating Your Repo</a><ul><li><a href="#confirm" class="table-of-contents__link toc-highlight">Confirm</a></li><li><a href="#clean-up" class="table-of-contents__link toc-highlight">Clean up</a></li></ul></li><li><a href="#rewiring-your-amplify-pipeline" class="table-of-contents__link toc-highlight">Rewiring your Amplify Pipeline</a><ul><li><a href="#run--the-update-app-command" class="table-of-contents__link toc-highlight">Run  the <code>update-app</code> command</a></li><li><a href="#re-authenticate-your-amplify-app" class="table-of-contents__link toc-highlight">Re-authenticate your Amplify app</a></li><li><a href="#the-webhook-approach" class="table-of-contents__link toc-highlight">The Webhook Approach</a></li><li><a href="#caveats-of-the-webhook-approach" class="table-of-contents__link toc-highlight">Caveats of the Webhook Approach</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/blog/credits">Credits</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/manumagalhaes/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/manumagalhaes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/magmanu" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">RSS Feed</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://magmanu.github.io/blog/personal/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">ğŸ‡¬ğŸ‡§ Personal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://magmanu.github.io/blog/tech/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">ğŸ‡¬ğŸ‡§ Tech<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://magmanu.github.io/blog/personal/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">ğŸ‡§ğŸ‡· Pessoal<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://magmanu.github.io/blog/personal/rss.xml" target="_blank" rel="noopener noreferrer" class="footer__link-item">ğŸ‡§ğŸ‡· Tech<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Manu MagalhÃ£es.</div></div></div></footer></div>
<script src="/blog/assets/js/runtime~main.142a1e44.js"></script>
<script src="/blog/assets/js/main.e1abacd9.js"></script>
</body>
</html>